export default async function handler(req, res) {
  if (req.method !== 'GET') {
    return res.status(405).json({ error: 'Method not allowed' });
  }

  try {
    // ABI of EvmContract.sol (copied from Remix after compilation)
    const tokenABI = [
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "name_",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "symbol_",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "initialSupply_",
				"type": "uint256"
			},
			{
				"internalType": "address",
				"name": "initialOwner",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "allowance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientAllowance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "balance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientBalance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "approver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidApprover",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "receiver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidReceiver",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSpender",
		"type": "error"
	},
	{
		"inputs": [],
		"name": "EnforcedPause",
		"type": "error"
	},
	{
		"inputs": [],
		"name": "ExpectedPause",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "OwnableInvalidOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "OwnableUnauthorizedAccount",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "Paused",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "Unpaused",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "burn",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "burnFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "mint",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "pause",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "paused",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "unpause",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	}
];

    // Bytecode of EvmContract.sol (copied from Remix after compilation)
    const tokenBytecode = "608060405234801562000010575f80fd5b5060405162002249380380620022498339818101604052810190620000369190620007b1565b80848481600390816200004a919062000a8c565b5080600490816200005c919062000a8c565b5050505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603620000d2575f6040517f1e4fbdf7000000000000000000000000000000000000000000000000000000008152600401620000c9919062000b81565b60405180910390fd5b620000e3816200017160201b60201c565b505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160362000155576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200014c9062000bfa565b60405180910390fd5b6200016781836200023660201b60201c565b5050505062000ce8565b5f600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603620002a9575f6040517fec442f05000000000000000000000000000000000000000000000000000000008152600401620002a0919062000b81565b60405180910390fd5b620002bc5f8383620002c060201b60201c565b5050565b620002d0620002e860201b60201c565b620002e38383836200033260201b60201c565b505050565b620002f86200035a60201b60201c565b1562000330576040517fd93c066500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b62000342620002e860201b60201c565b620003558383836200036f60201b60201c565b505050565b5f60055f9054906101000a900460ff16905090565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603620003c3578060025f828254620003b6919062000c47565b9250508190555062000494565b5f805f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050818110156200044f578381836040517fe450d38c000000000000000000000000000000000000000000000000000000008152600401620004469392919062000c92565b60405180910390fd5b8181035f808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603620004dd578060025f828254039250508190555062000527565b805f808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405162000586919062000ccd565b60405180910390a3505050565b5f604051905090565b5f80fd5b5f80fd5b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b620005f482620005ac565b810181811067ffffffffffffffff82111715620006165762000615620005bc565b5b80604052505050565b5f6200062a62000593565b9050620006388282620005e9565b919050565b5f67ffffffffffffffff8211156200065a5762000659620005bc565b5b6200066582620005ac565b9050602081019050919050565b5f5b838110156200069157808201518184015260208101905062000674565b5f8484015250505050565b5f620006b2620006ac846200063d565b6200061f565b905082815260208101848484011115620006d157620006d0620005a8565b5b620006de84828562000672565b509392505050565b5f82601f830112620006fd57620006fc620005a4565b5b81516200070f8482602086016200069c565b91505092915050565b5f819050919050565b6200072c8162000718565b811462000737575f80fd5b50565b5f815190506200074a8162000721565b92915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6200077b8262000750565b9050919050565b6200078d816200076f565b811462000798575f80fd5b50565b5f81519050620007ab8162000782565b92915050565b5f805f8060808587031215620007cc57620007cb6200059c565b5b5f85015167ffffffffffffffff811115620007ec57620007eb620005a0565b5b620007fa87828801620006e6565b945050602085015167ffffffffffffffff8111156200081e576200081d620005a0565b5b6200082c87828801620006e6565b93505060406200083f878288016200073a565b925050606062000852878288016200079b565b91505092959194509250565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680620008ad57607f821691505b602082108103620008c357620008c262000868565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302620009277fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82620008ea565b620009338683620008ea565b95508019841693508086168417925050509392505050565b5f819050919050565b5f620009746200096e620009688462000718565b6200094b565b62000718565b9050919050565b5f819050919050565b6200098f8362000954565b620009a76200099e826200097b565b848454620008f6565b825550505050565b5f90565b620009bd620009af565b620009ca81848462000984565b505050565b5b81811015620009f157620009e55f82620009b3565b600181019050620009d0565b5050565b601f82111562000a405762000a0a81620008c9565b62000a1584620008db565b8101602085101562000a25578190505b62000a3d62000a3485620008db565b830182620009cf565b50505b505050565b5f82821c905092915050565b5f62000a625f198460080262000a45565b1980831691505092915050565b5f62000a7c838362000a51565b9150826002028217905092915050565b62000a97826200085e565b67ffffffffffffffff81111562000ab35762000ab2620005bc565b5b62000abf825462000895565b62000acc828285620009f5565b5f60209050601f83116001811462000b02575f841562000aed578287015190505b62000af9858262000a6f565b86555062000b68565b601f19841662000b1286620008c9565b5f5b8281101562000b3b5784890151825560018201915060208501945060208101905062000b14565b8683101562000b5b578489015162000b57601f89168262000a51565b8355505b6001600288020188555050505b505050505050565b62000b7b816200076f565b82525050565b5f60208201905062000b965f83018462000b70565b92915050565b5f82825260208201905092915050565b7f4f776e657220616464726573732063616e6e6f74206265207a65726f000000005f82015250565b5f62000be2601c8362000b9c565b915062000bef8262000bac565b602082019050919050565b5f6020820190508181035f83015262000c138162000bd4565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f62000c538262000718565b915062000c608362000718565b925082820190508082111562000c7b5762000c7a62000c1a565b5b92915050565b62000c8c8162000718565b82525050565b5f60608201905062000ca75f83018662000b70565b62000cb6602083018562000c81565b62000cc5604083018462000c81565b949350505050565b5f60208201905062000ce25f83018462000c81565b92915050565b6115538062000cf65f395ff3fe608060405234801561000f575f80fd5b5060043610610114575f3560e01c806370a08231116100a05780638da5cb5b1161006f5780638da5cb5b1461029257806395d89b41146102b0578063a9059cbb146102ce578063dd62ed3e146102fe578063f2fde38b1461032e57610114565b806370a0823114610232578063715018a61461026257806379cc67901461026c5780638456cb591461028857610114565b8063313ce567116100e7578063313ce567146101b45780633f4ba83a146101d257806340c10f19146101dc57806342966c68146101f85780635c975abb1461021457610114565b806306fdde0314610118578063095ea7b31461013657806318160ddd1461016657806323b872dd14610184575b5f80fd5b61012061034a565b60405161012d9190611139565b60405180910390f35b610150600480360381019061014b91906111ea565b6103da565b60405161015d9190611242565b60405180910390f35b61016e6103fc565b60405161017b919061126a565b60405180910390f35b61019e60048036038101906101999190611283565b610405565b6040516101ab9190611242565b60405180910390f35b6101bc610433565b6040516101c991906112ee565b60405180910390f35b6101da61043b565b005b6101f660048036038101906101f191906111ea565b61044d565b005b610212600480360381019061020d9190611307565b6104d9565b005b61021c6104ed565b6040516102299190611242565b60405180910390f35b61024c60048036038101906102479190611332565b610502565b604051610259919061126a565b60405180910390f35b61026a610547565b005b610286600480360381019061028191906111ea565b61055a565b005b61029061057a565b005b61029a61058c565b6040516102a7919061136c565b60405180910390f35b6102b86105b5565b6040516102c59190611139565b60405180910390f35b6102e860048036038101906102e391906111ea565b610645565b6040516102f59190611242565b60405180910390f35b61031860048036038101906103139190611385565b610667565b604051610325919061126a565b60405180910390f35b61034860048036038101906103439190611332565b6106e9565b005b606060038054610359906113f0565b80601f0160208091040260200160405190810160405280929190818152602001828054610385906113f0565b80156103d05780601f106103a7576101008083540402835291602001916103d0565b820191905f5260205f20905b8154815290600101906020018083116103b357829003601f168201915b5050505050905090565b5f806103e461076d565b90506103f1818585610774565b600191505092915050565b5f600254905090565b5f8061040f61076d565b905061041c858285610786565b610427858585610819565b60019150509392505050565b5f6012905090565b610443610909565b61044b610990565b565b610455610909565b61045d6109f1565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036104cb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104c29061146a565b60405180910390fd5b6104d58282610a32565b5050565b6104ea6104e461076d565b82610ab1565b50565b5f60055f9054906101000a900460ff16905090565b5f805f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b61054f610909565b6105585f610b30565b565b61056c8261056661076d565b83610786565b6105768282610ab1565b5050565b610582610909565b61058a610bf5565b565b5f600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6060600480546105c4906113f0565b80601f01602080910402602001604051908101604052809291908181526020018280546105f0906113f0565b801561063b5780601f106106125761010080835404028352916020019161063b565b820191905f5260205f20905b81548152906001019060200180831161061e57829003601f168201915b5050505050905090565b5f8061064f61076d565b905061065c818585610819565b600191505092915050565b5f60015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905092915050565b6106f1610909565b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610761575f6040517f1e4fbdf7000000000000000000000000000000000000000000000000000000008152600401610758919061136c565b60405180910390fd5b61076a81610b30565b50565b5f33905090565b6107818383836001610c57565b505050565b5f6107918484610667565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8110156108135781811015610804578281836040517ffb8f41b20000000000000000000000000000000000000000000000000000000081526004016107fb93929190611488565b60405180910390fd5b61081284848484035f610c57565b5b50505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610889575f6040517f96c6fd1e000000000000000000000000000000000000000000000000000000008152600401610880919061136c565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036108f9575f6040517fec442f050000000000000000000000000000000000000000000000000000000081526004016108f0919061136c565b60405180910390fd5b610904838383610e26565b505050565b61091161076d565b73ffffffffffffffffffffffffffffffffffffffff1661092f61058c565b73ffffffffffffffffffffffffffffffffffffffff161461098e5761095261076d565b6040517f118cdaa7000000000000000000000000000000000000000000000000000000008152600401610985919061136c565b60405180910390fd5b565b610998610e3e565b5f60055f6101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6109da61076d565b6040516109e7919061136c565b60405180910390a1565b6109f96104ed565b15610a30576040517fd93c066500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610aa2575f6040517fec442f05000000000000000000000000000000000000000000000000000000008152600401610a99919061136c565b60405180910390fd5b610aad5f8383610e26565b5050565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b21575f6040517f96c6fd1e000000000000000000000000000000000000000000000000000000008152600401610b18919061136c565b60405180910390fd5b610b2c825f83610e26565b5050565b5f600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b610bfd6109f1565b600160055f6101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258610c4061076d565b604051610c4d919061136c565b60405180910390a1565b5f73ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610cc7575f6040517fe602df05000000000000000000000000000000000000000000000000000000008152600401610cbe919061136c565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610d37575f6040517f94280d62000000000000000000000000000000000000000000000000000000008152600401610d2e919061136c565b60405180910390fd5b8160015f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055508015610e20578273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92584604051610e17919061126a565b60405180910390a35b50505050565b610e2e6109f1565b610e39838383610e7e565b505050565b610e466104ed565b610e7c576040517f8dfc202b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b565b610e866109f1565b610e91838383610e96565b505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610ee6578060025f828254610eda91906114ea565b92505081905550610fb4565b5f805f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905081811015610f6f578381836040517fe450d38c000000000000000000000000000000000000000000000000000000008152600401610f6693929190611488565b60405180910390fd5b8181035f808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610ffb578060025f8282540392505081905550611045565b805f808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516110a2919061126a565b60405180910390a3505050565b5f81519050919050565b5f82825260208201905092915050565b5f5b838110156110e65780820151818401526020810190506110cb565b5f8484015250505050565b5f601f19601f8301169050919050565b5f61110b826110af565b61111581856110b9565b93506111258185602086016110c9565b61112e816110f1565b840191505092915050565b5f6020820190508181035f8301526111518184611101565b905092915050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6111868261115d565b9050919050565b6111968161117c565b81146111a0575f80fd5b50565b5f813590506111b18161118d565b92915050565b5f819050919050565b6111c9816111b7565b81146111d3575f80fd5b50565b5f813590506111e4816111c0565b92915050565b5f8060408385031215611200576111ff611159565b5b5f61120d858286016111a3565b925050602061121e858286016111d6565b9150509250929050565b5f8115159050919050565b61123c81611228565b82525050565b5f6020820190506112555f830184611233565b92915050565b611264816111b7565b82525050565b5f60208201905061127d5f83018461125b565b92915050565b5f805f6060848603121561129a57611299611159565b5b5f6112a7868287016111a3565b93505060206112b8868287016111a3565b92505060406112c9868287016111d6565b9150509250925092565b5f60ff82169050919050565b6112e8816112d3565b82525050565b5f6020820190506113015f8301846112df565b92915050565b5f6020828403121561131c5761131b611159565b5b5f611329848285016111d6565b91505092915050565b5f6020828403121561134757611346611159565b5b5f611354848285016111a3565b91505092915050565b6113668161117c565b82525050565b5f60208201905061137f5f83018461135d565b92915050565b5f806040838503121561139b5761139a611159565b5b5f6113a8858286016111a3565b92505060206113b9858286016111a3565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061140757607f821691505b60208210810361141a576114196113c3565b5b50919050565b7f43616e6e6f74206d696e7420746f207a65726f206164647265737300000000005f82015250565b5f611454601b836110b9565b915061145f82611420565b602082019050919050565b5f6020820190508181035f83015261148181611448565b9050919050565b5f60608201905061149b5f83018661135d565b6114a8602083018561125b565b6114b5604083018461125b565b949350505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6114f4826111b7565b91506114ff836111b7565b9250828201905080821115611517576115166114bd565b5b9291505056fea2646970667358221220376b61ed30d8ab037a576d3c85b0b06046409d4bad62573a1fabc9a55c138aea64736f6c63430008160033";

    // Platform fee and wallet address (in ETH, not wei)
    const platformFee = "0.02"; // 0.02 ETH
    const platformWallet = "0x0F226cb4C21ccb23396ffB2a332A0359d504eBC8";

    res.status(200).json({
      tokenABI,
      tokenBytecode,
      platformFee,
      platformWallet,
    });
  } catch (error) {
    console.error('Error fetching token data:', error);
    res.status(500).json({ error: 'Failed to fetch token data' });
  }
}
